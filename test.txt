@app.route('/')
def index():
    # Read data from JSON file
    with open('data.json', 'r') as f:
        data = json.load(f)

    # Extract the necessary data from JSON
    api_names = [entry['api_name'] for entry in data]
    statuses = [entry['status'] for entry in data]
    timestamps = [entry['timestamp'] for entry in data]

    # Create a bar chart
    trace = go.Bar(
        x=timestamps,
        y=api_names,
        marker=dict(color=statuses, colorscale='RdYlGn', line=dict(color='rgb(8,48,107)', width=0.5)),
        orientation='h'
    )
    layout = go.Layout(
        title='API Status',
        yaxis=dict(autorange='reversed', showticklabels=True),
        xaxis=dict(type='date'),
        bargap=0.1
    )
    fig = go.Figure(data=[trace], layout=layout)

    # Convert the chart to HTML and render the template
    chart = fig.to_html(full_html=False, default_width='100%', default_height='500px')
    return render_template('chart.html', chart=chart)

-----------------

<!DOCTYPE html>
<html>
<head>
    <title>Bar Chart</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div>{{ chart|safe }}</div>
</body>
</html>
